# Name

Names are important in PDF.  In the PDF file format names are preceded by a forward slash (/) and this convention carries over to the documentation.  Names are used as indexes to dictionaries, and names are used extensively throughout the pdf standard essentially as enums.  For example the /SubType field of a font dictionary can take values /Type0, /Type1, /Type3, /MMType1, /TrueType, /OpenType, /CIDFontType0, or /CIDFontType2.

During the pre 1.0 beta period PDfObjects were C# objects, and names were implemented using a [flyweight](https://en.wikipedia.org/wiki/Flyweight_pattern) pattern.  In version 0.4
the PdfObject became the structs PdfDirectObject and PdfIndirectObject.  Short Names (under 16-23 characters) are now stored locally int the memento field of the PdfObject structs.
This means there is no good way to switch over PdfNames -- so we use pattern matching instead.

## Pdf Groups

A problem came up in the Pdf generator code.  Often the generator knows that only one of a small number of PdfNames is valid for a given parameter.  For this I added PdfName Groups.  These groups are generated by the KnownNamesGenerator which runs at compile time.  Each group is a [costume](Costumes.md) pattern object around the PdfName that makes it look like a little enum.  The generated implementation for the BoxName name group looks like this.

````c#
public readonly struct BoxName 
{
    private readonly PdfName name;
    public BoxName(PdfName name){ this.name = name;}
    public static implicit operator PdfName(BoxName wrapper) => wrapper.name; 
    public static BoxName ArtBox => new(KnownNames.ArtBox);
    public static BoxName BleedBox => new(KnownNames.BleedBox);
    public static BoxName CropBox => new(KnownNames.CropBox);
    public static BoxName MediaBox => new(KnownNames.MediaBox);
    public static BoxName TrimBox => new(KnownNames.TrimBox);
}
````

And a method to extract any of the box types from an IHasPageAttributes object is declared as
````c#
private static ValueTask<PdfRect?> GetBoxOrDefaultAsync( IHasPageAttributes item, BoxName? boxType) => ...
````

The BoxName stuct is implicitly convertable to PdfName, so you can use it anywhere you can use a PdfName,
however, when using intellisense with the GetBoxOrDefaultAsync method, the static properties of the type
all show up just like members of the enum.